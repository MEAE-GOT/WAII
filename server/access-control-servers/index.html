<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.103.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/automotive-viss2/images/fav.png" type="image/x-icon" />

    <title>VISSv2 Access Control Servers :: W3C VISSv2 Reference Implementation</title>

    
    <link href="/automotive-viss2/css/nucleus.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/fontawesome-all.min.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/hybrid.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/featherlight.min.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/perfect-scrollbar.min.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/auto-complete.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/atom-one-dark-reasonable.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/theme.css?1695733078" rel="stylesheet">
    <link href="/automotive-viss2/css/hugo-theme.css?1695733078" rel="stylesheet">
    
    <link href="/automotive-viss2/css/theme-blue.css?1695733078" rel="stylesheet">
    
    

    <script src="/automotive-viss2/js/jquery-3.3.1.min.js?1695733078"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/automotive-viss2/server/access-control-servers/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://w3c.github.io/automotive-viss2/">
  <img src="/automotive-viss2/images/vissv2.png">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/automotive-viss2/js/lunr.min.js?1695733078"></script>
<script type="text/javascript" src="/automotive-viss2/js/auto-complete.js?1695733078"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/w3c.github.io\/automotive-viss2\/";
    
</script>
<script type="text/javascript" src="/automotive-viss2/js/search.js?1695733078"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/automotive-viss2/build-system/" title="VISSv2 Build System" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/build-system/">
          VISSv2 Build System
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/client/" title="VISSv2 Clients" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/client/">
          VISSv2 Clients
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/datastore/" title="VISSv2 Data Storage" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/datastore/">
          VISSv2 Data Storage
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/feeder/" title="VISSv2 Feeder" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/feeder/">
          VISSv2 Feeder
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/peripheral-components/" title="VISSv2 peripheral components" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/peripheral-components/">
          VISSv2 peripheral components
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/" title="VISSv2 POCs" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/">
          VISSv2 POCs
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc2/" title="Next POC..." class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc2/">
          Next POC...
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc1/" title="Vehicle.Speed subscription example" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc1/">
          Vehicle.Speed subscription example
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/server/" title="VISSv2 Server" class="dd-item
        parent
        
        
        ">
      <a href="/automotive-viss2/server/">
          VISSv2 Server
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/server/access-control-servers/" title="VISSv2 Access Control Servers" class="dd-item
        
        active
        
        ">
      <a href="/automotive-viss2/server/access-control-servers/">
          VISSv2 Access Control Servers
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/w3c/automotive-viss2"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/w3c/automotive-viss2/edit/master/tutorial/content/server/Access-control-servers/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/automotive-viss2/'>W3C Vehicle Information Service Specification ver 2 Reference Implementation Tutorial</a> > <a href='/automotive-viss2/server/'>VISSv2 Server</a> > VISSv2 Access Control Servers
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#access-grant-server">Access Grant server</a></li>
        <li><a href="#access-token-server">Access Token server</a></li>
        <li><a href="#server-configuration">Server configuration</a></li>
        <li><a href="#viss-web-client-submodule">VISS web client submodule</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              VISSv2 Access Control Servers
            </h1>
          

        



	<p>The <a href="https://raw.githack.com/w3c/automotive/gh-pages/spec/VISSv2_Core.html#access-control-model">VISSv2 access control model</a> specifies two authorization servers:</p>
<ul>
<li>Access Grant server</li>
<li>Access Token server</li>
</ul>
<h3 id="access-grant-server">Access Grant server</h3>
<p>This server is in a typical scenario running in the cloud. It is built as a separate executable in the WAII/server/agt_server directory</p>
<p>$ go build</p>
<p>and run by</p>
<p>$ ./agt_server</p>
<p>It exposes an HTTP API according to the VISSv2 specification. However it is currently not TLS protected (which is a must in non-development scenario).
What is also missing in the AGS implementation is authentication of the client, which according to the specification should be an AGT task.</p>
<h3 id="access-token-server">Access Token server</h3>
<p>This server runs as a thread within the vissv2 server, so it is built by the vissv2 build command.
For it to be built, it is necessary to make sure that the &ldquo;atServer&rdquo; line in the serverComponents array in the vissv2server.go code is uncommented:</p>
<pre tabindex="0"><code>var serverComponents []string = []string{
	&#34;serviceMgr&#34;,
	&#34;httpMgr&#34;,
	&#34;wsMgr&#34;,
	&#34;mqttMgr&#34;,
	&#34;grpcMgr&#34;,
	&#34;atServer&#34;,
}
</code></pre><p>If it is part of the vissv2server build, and if a VSS node is access control tagged,
the server will then forward the access token received in the client request to the ATS for validation.</p>
<p>The ATS will as part of the validation also use the VISSv2 specified policy documents if they are found in the working directory.</p>
<h3 id="server-configuration">Server configuration</h3>
<p>The configuration available for the servers is whether the protocols that they implement to expose their APIS are TLS protected or not.
The same framework that is used for generating credentials for the client-server communication described <a href="/automotive-viss2/server#tls-configuration">here</a> can be used here also.
These credentials should however to follow good security practises be separate from what is used in the client-server communication.
The different port number for the respective servers are shown below.</p>
<table>
<thead>
<tr>
<th>Server</th>
<th>Port number: No TLS</th>
<th>Port number: TLS</th>
</tr>
</thead>
<tbody>
<tr>
<td>AGTS</td>
<td>7500</td>
<td>7443</td>
</tr>
<tr>
<td>ATS</td>
<td>8600</td>
<td>8443</td>
</tr>
</tbody>
</table>
<h3 id="viss-web-client-submodule">VISS web client submodule</h3>
<p>This submodule implements a <a href="https://github.com/nicslabdev/viss-web-client/">VISSv2 web client</a>
that exposes a UI that is considerably more sophisticated than what other clients on the WAII repo exposes,
and it is particularly helpful when it comes to the client interactions with access control involved.
Check out the README on both repos for more information.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/automotive-viss2/server/" title="VISSv2 Server"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/automotive-viss2/build-system/" title="VISSv2 Build System" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/automotive-viss2/js/clipboard.min.js?1695733078"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.min.js?1695733078"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.jquery.min.js?1695733078"></script>
    <script src="/automotive-viss2/js/jquery.sticky.js?1695733078"></script>
    <script src="/automotive-viss2/js/featherlight.min.js?1695733078"></script>
    <script src="/automotive-viss2/js/highlight.pack.js?1695733078"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/automotive-viss2/js/modernizr.custom-3.6.0.js?1695733078"></script>
    <script src="/automotive-viss2/js/learn.js?1695733078"></script>
    <script src="/automotive-viss2/js/hugo-learn.js?1695733078"></script>
    
        
            <script src="/automotive-viss2/mermaid/mermaid.js?1695733078"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
