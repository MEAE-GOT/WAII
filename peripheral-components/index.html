<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.103.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/automotive-viss2/images/fav.png" type="image/x-icon" />

    <title>VISSv2 peripheral components :: W3C VISSv2 Reference Implementation</title>

    
    <link href="/automotive-viss2/css/nucleus.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/fontawesome-all.min.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/hybrid.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/featherlight.min.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/perfect-scrollbar.min.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/auto-complete.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/atom-one-dark-reasonable.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/theme.css?1709206471" rel="stylesheet">
    <link href="/automotive-viss2/css/hugo-theme.css?1709206471" rel="stylesheet">
    
    <link href="/automotive-viss2/css/theme-blue.css?1709206471" rel="stylesheet">
    
    

    <script src="/automotive-viss2/js/jquery-3.3.1.min.js?1709206471"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/automotive-viss2/peripheral-components/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://w3c.github.io/automotive-viss2/">
  <img src="/automotive-viss2/images/vissv2.png">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/automotive-viss2/js/lunr.min.js?1709206471"></script>
<script type="text/javascript" src="/automotive-viss2/js/auto-complete.js?1709206471"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/w3c.github.io\/automotive-viss2\/";
    
</script>
<script type="text/javascript" src="/automotive-viss2/js/search.js?1709206471"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/automotive-viss2/client/" title="VISSv2 Clients" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/client/">
          VISSv2 Clients
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/docker-step-by-step/" title="VISSv2 Docker" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/docker-step-by-step/">
          VISSv2 Docker
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/peripheral-components/" title="VISSv2 peripheral components" class="dd-item
        
        active
        
        ">
      <a href="/automotive-viss2/peripheral-components/">
          VISSv2 peripheral components
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/server/" title="VISSv2 Server" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/server/">
          VISSv2 Server
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/server/access-control-servers/" title="VISSv2 Access Control Servers" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/server/access-control-servers/">
          VISSv2 Access Control Servers
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/build-system/" title="WAII Build System" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/build-system/">
          WAII Build System
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/datastore/" title="WAII Data Storage" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/datastore/">
          WAII Data Storage
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/datastore/redis/" title="WAII Redis" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/datastore/redis/">
          WAII Redis
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/datastore/sqlite/" title="WAII SQLite" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/datastore/sqlite/">
          WAII SQLite
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/feeder/" title="WAII Feeders" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/feeder/">
          WAII Feeders
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/" title="WAII POCs" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/">
          WAII POCs
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc2/" title="Next POC..." class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc2/">
          Next POC...
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc1/" title="Vehicle.Speed subscription example" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc1/">
          Vehicle.Speed subscription example
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/tools/" title="WAII Tools" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/tools/">
          WAII Tools
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/w3c/automotive-viss2"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/w3c/automotive-viss2/edit/master/tutorial/content/peripheral-components/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/automotive-viss2/'>W3C Vehicle Information Service Specification ver 2 Reference Implementation Tutorial</a> > VISSv2 peripheral components
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#access-control-authorization-servers">Access control authorization servers</a>
      <ul>
        <li><a href="#access-grant-token-server-agts">Access Grant Token server (AGTS)</a></li>
        <li><a href="#access-token-server-ats">Access Token server (ATS)</a></li>
      </ul>
    </li>
    <li><a href="#open-vehicle-data-set-ovds">Open Vehicle Data Set (OVDS)</a></li>
    <li><a href="#live-simulator">Live simulator</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              VISSv2 peripheral components
            </h1>
          

        



	<p>A few other software components that can be useful when setting up a VISSv2 communication tech stack exists:</p>
<ul>
<li>Authorization servers for access control and consent models.</li>
<li>Open Vehicle Data Set, a relational database with a table configuration that enables it to store time series of VSS data from multiple vehicles.</li>
<li>A &ldquo;live simulator&rdquo; that can read vehicle trip data stored in an OVDS database , and replay it so that it appears as live data from the recorded trip.</li>
</ul>
<h2 id="access-control-authorization-servers">Access control authorization servers</h2>
<p>The VISS2 specification describes an access control model involving two authorization servers:</p>
<ul>
<li>Access Grant Token server</li>
<li>Access Token server
For details please read the <a href="https://raw.githack.com/w3c/automotive/gh-pages/spec/VISSv2_Core.html#access-control-model">VISSv2: Access Control</a>,
and the <a href="">Consent Model</a> chapters.</li>
</ul>
<p>To trigger the access control and consent functionality it is necessary to tag the corresponding VSS nodes as described in the spec.
This can either be done by editing of the actual vspec files from the <a href="https://github.com/COVESA/vehicle_signal_specification/tree/master/spec">VSS/spec</a> directory,
or by creating overlay files and include them as described in <a href="https://github.com/COVESA/vss-tools">VSS-tools</a>,
and then generate the VSS tree in binary format as described in <a href="https://w3c.github.io/automotive-viss2/server/#vss-tree-configuration">VSS tree configuration</a>.</p>
<h3 id="access-grant-token-server-agts">Access Grant Token server (AGTS)</h3>
<p>The <a href="https://github.com/w3c/automotive-viss2/tree/master/server/agt_server">AGTS</a>,
which typically will be deployed off-vehicle, in the cloud, is separately built and deployed.
The file agt_public_key.rsa is generated at startup, which must be copied to the <a href="https://github.com/w3c/automotive-viss2/tree/master/server/vissv2server/atServer">AT server</a> directory.</p>
<h3 id="access-token-server-ats">Access Token server (ATS)</h3>
<p>The <a href="https://github.com/w3c/automotive-viss2/tree/master/server/vissv2server/atServer">ATS</a> is deployed on a separate thread within the VISSv2 server,
to include it make sure it is uncommented in the serverComponents string array in <a href="https://github.com/w3c/automotive-viss2/blob/master/server/vissv2server/vissv2server.go">viss2server.go</a>.
The ATS uses the <a href="https://raw.githack.com/w3c/automotive/gh-pages/spec/VISSv2_Core.html#policy-documents">policy documents</a> described in the spec when validating an access token,
examples of these are available in the purposelist.json and scopelist.json files.</p>
<h2 id="open-vehicle-data-set-ovds">Open Vehicle Data Set (OVDS)</h2>
<p>The code to realize an OVDS database is found <a href="https://github.com/COVESA/ccs-components/tree/master/ovds">here</a>.
The database is realized using SQLite, so it is possible to use the SQLite API to read and write from it.</p>
<p>However, an <a href="https://github.com/COVESA/ccs-components/tree/master/ovds/server">OVDS server</a> is available that exposes a small set of methods for this, over HTTP.
For more details, please check the README on the link.</p>
<p>There is as well an <a href="https://github.com/COVESA/ccs-components/tree/master/ovds/client">OVDS client</a>
available that connects to a VISSv2 server to fetch data that it then writes into the OVDS using the OVDS server interface.</p>
<h2 id="live-simulator">Live simulator</h2>
<p>The <a href="https://github.com/COVESA/ccs-components/tree/master/livesim">live simulator</a> reads data from an OVDS containing recorded trip data,
and then writes it into a state storage timed by the data time stamps so that it appears timing wise as when it was recorded.
For more details, please check the README on the link.</p>
<p>The the test_vehicles.db file in the <a href="https://github.com/COVESA/ccs-components/tree/master/ovds/server">OVDS server</a>
directory contains trip data generously provided by Geotab Inc.
It can be used as input to the live simulator, as well as the sawtooth_trip.db for simple testing.</p>
<p>The live simulator needs a copy of the list of leaf node paths (vsspathlist.json),
which needs to contain at least all the paths that are to be replayed from the OVDS, and are also to be found in the VSS tree that the VISSv2 server uses.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/automotive-viss2/docker-step-by-step/" title="VISSv2 Docker"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/automotive-viss2/server/" title="VISSv2 Server" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/automotive-viss2/js/clipboard.min.js?1709206471"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.min.js?1709206471"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.jquery.min.js?1709206471"></script>
    <script src="/automotive-viss2/js/jquery.sticky.js?1709206471"></script>
    <script src="/automotive-viss2/js/featherlight.min.js?1709206471"></script>
    <script src="/automotive-viss2/js/highlight.pack.js?1709206471"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/automotive-viss2/js/modernizr.custom-3.6.0.js?1709206471"></script>
    <script src="/automotive-viss2/js/learn.js?1709206471"></script>
    <script src="/automotive-viss2/js/hugo-learn.js?1709206471"></script>
    
        
            <script src="/automotive-viss2/mermaid/mermaid.js?1709206471"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
