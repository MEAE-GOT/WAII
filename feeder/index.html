<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.103.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/automotive-viss2/images/fav.png" type="image/x-icon" />

    <title>VISSv2 Feeder :: W3C VISSv2 Reference Implementation</title>

    
    <link href="/automotive-viss2/css/nucleus.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/fontawesome-all.min.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/hybrid.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/featherlight.min.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/perfect-scrollbar.min.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/auto-complete.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/atom-one-dark-reasonable.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/theme.css?1699611257" rel="stylesheet">
    <link href="/automotive-viss2/css/hugo-theme.css?1699611257" rel="stylesheet">
    
    <link href="/automotive-viss2/css/theme-blue.css?1699611257" rel="stylesheet">
    
    

    <script src="/automotive-viss2/js/jquery-3.3.1.min.js?1699611257"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/automotive-viss2/feeder/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://w3c.github.io/automotive-viss2/">
  <img src="/automotive-viss2/images/vissv2.png">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/automotive-viss2/js/lunr.min.js?1699611257"></script>
<script type="text/javascript" src="/automotive-viss2/js/auto-complete.js?1699611257"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/w3c.github.io\/automotive-viss2\/";
    
</script>
<script type="text/javascript" src="/automotive-viss2/js/search.js?1699611257"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/automotive-viss2/build-system/" title="VISSv2 Build System" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/build-system/">
          VISSv2 Build System
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/client/" title="VISSv2 Clients" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/client/">
          VISSv2 Clients
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/datastore/" title="VISSv2 Data Storage" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/datastore/">
          VISSv2 Data Storage
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/docker-step-by-step/" title="VISSv2 Docker" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/docker-step-by-step/">
          VISSv2 Docker
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/feeder/" title="VISSv2 Feeder" class="dd-item
        
        active
        
        ">
      <a href="/automotive-viss2/feeder/">
          VISSv2 Feeder
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/peripheral-components/" title="VISSv2 peripheral components" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/peripheral-components/">
          VISSv2 peripheral components
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/" title="VISSv2 POCs" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/">
          VISSv2 POCs
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc2/" title="Next POC..." class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc2/">
          Next POC...
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/pocs/poc1/" title="Vehicle.Speed subscription example" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/pocs/poc1/">
          Vehicle.Speed subscription example
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/automotive-viss2/server/" title="VISSv2 Server" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/server/">
          VISSv2 Server
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/automotive-viss2/server/access-control-servers/" title="VISSv2 Access Control Servers" class="dd-item
        
        
        
        ">
      <a href="/automotive-viss2/server/access-control-servers/">
          VISSv2 Access Control Servers
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/w3c/automotive-viss2"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/w3c/automotive-viss2/edit/master/tutorial/content/feeder/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/automotive-viss2/'>W3C Vehicle Information Service Specification ver 2 Reference Implementation Tutorial</a> > VISSv2 Feeder
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              VISSv2 Feeder
            </h1>
          

        



	<p>A feeder is a Sw component that needs to implement three tasks:</p>
<ul>
<li>Implement an interface to the data storage</li>
<li>Implement an interface to the underlying vehicle interface</li>
<li>Translate data from the format used in the &ldquo;VSS domain&rdquo; to te format used in the &ldquo;Vehicle domain&rdquo;.</li>
</ul>
<p>The SW architecture shown in figure 1 reflects the division of the three tasks in that the translation (map &amp; scale) is done in the min process,
which spawns two threads that implement the respective interface task.
The architecture shown handle all its communication with the server via the state storage.
This leads to a polling paradigm and thus a potential latency and performance weakness.
This architecture is therefore not found on he master branch, but available on the datastore-poll branch.
<img src="/automotive-viss2/images/feeder-sw-design-v1.jpg?width=50pc" alt="Feeder Sw architecture, version 1"></p>
<ul>
<li>Figure 1. Feeder software architecture version 1</li>
</ul>
<p>An improved architecture that eliminates the mentioned weaknesses for data flowing in the direction from the server to the feeder (i. e client write requests)
is shown in figure 2. For write requests the server communicates directly over an IPC channel with the feeder, thus removing the ned for the feeder to poll
the state storage to find new write requests.
<img src="/automotive-viss2/images/feeder-sw-design-v2.jpg?width=50pc" alt="Feeder Sw architecture, version 2"></p>
<ul>
<li>Figure 2. Feeder software architecture version 2</li>
</ul>
<p>A feeder implementing the 2nd version of the SwA is found at the master branch.
This feeder can be configured to either use an SQLite, or a Redis state storage interface, please see the Datastore chapter for details.</p>
<p>A design for how the polling on the server side can be mitigaed is in the planning stage.
It is likely to require an update of the feeder interface.</p>
<p>The feeder translation task is divided into a mapping of the signal name, and a possible scaling of the value.
The instructions for how to do this is encoded into a configuration file that the feeder reads at startup.
Currently this file only contains a signal name mapping, but design work is ongoing to evolve it to support also scaling instructions.</p>
<p>An OEM wanting to deploy the VISSv2 tech stack needs to implement the Vehicle interface of the feeder, for it e. g. to implement a CAN bus interface.
Currently the Vehicle interface contains a minimal signal simulator that generates random values for the signals it is configured to support.</p>
<p>Besides the feeder template there is also an <a href="https://github.com/w3c/automotive-viss2/tree/master/feeder/feeder-rl">rl-feeder</a>
where the Vehicle interface is implemented to connect to a RemotiveLabs broker.
<a href="https://remotivelabs.com/">RemotiveLabs</a> has a public cloud version of its broker that can be used to replay trip data available in VSS format.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/automotive-viss2/docker-step-by-step/" title="VISSv2 Docker"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/automotive-viss2/peripheral-components/" title="VISSv2 peripheral components" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/automotive-viss2/js/clipboard.min.js?1699611257"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.min.js?1699611257"></script>
    <script src="/automotive-viss2/js/perfect-scrollbar.jquery.min.js?1699611257"></script>
    <script src="/automotive-viss2/js/jquery.sticky.js?1699611257"></script>
    <script src="/automotive-viss2/js/featherlight.min.js?1699611257"></script>
    <script src="/automotive-viss2/js/highlight.pack.js?1699611257"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/automotive-viss2/js/modernizr.custom-3.6.0.js?1699611257"></script>
    <script src="/automotive-viss2/js/learn.js?1699611257"></script>
    <script src="/automotive-viss2/js/hugo-learn.js?1699611257"></script>
    
        
            <script src="/automotive-viss2/mermaid/mermaid.js?1699611257"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
